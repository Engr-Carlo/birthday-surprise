<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Welcome Page</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="navbar">
    <div class="logo">HappyBirthday<span>MyLove</span> ðŸ’–</div>
    <nav>
      <ul class="nav-links">
        <li><a href="welcome.html">Home</a></li>
        <li><a href="our-story.html">Our Story</a></li>
        <li><a href="memories.html">Memories</a></li>
        <li><a href="love-song.html">Love Song</a></li>
        <li><a href="videos.html">Videos</a></li>
        <li><a href="message-me.html">Message Me</a></li>
      </ul>
    </nav>
  </header>

  <!-- HERO SECTION -->
  <section class="hero">
    <div class="hero-text">
      <h1>
        Happy Birthday, <span>My Love</span>! ðŸ’–
      </h1>
      <p>
        Every moment with you is a treasure. On your special day, I want you to know how deeply I love you and how grateful I am for your presence in my life.<br>
        May your birthday be filled with laughter, joy, and all the love your heart can hold.<br>
        <strong>You are my everything. I love you more with every sunrise. ðŸ’•</strong>
      </p>
      <div class="buttons">
        <button class="btn-primary" id="foreverBtn">Forever Yours</button>
        <button class="btn-outline" id="storyBtn">Read Our Story</button>
      </div>
    </div>

    <div class="hero-image">
      <img src="images/mylove.jpg" alt="My Love" />

    </div>
  </section>

  <div class="floating-hearts"></div>

  <script>
// Preload only 15 images with optimized loading
const preloadedImages = [];
for(let i=1; i<=15; i++) {
  const img = new Image();
  img.src = `photos/photo${i}.jpg`;
  // Smaller dimensions for better performance
  img.width = 80;
  img.height = 80;
  preloadedImages.push(img);
}

// Forever Yours: ultra-smooth scatter animation
document.getElementById('foreverBtn').onclick = function() {
  // Remove previous scatter if any
  document.querySelectorAll('.scattered-card').forEach(e => e.remove());

  // Use only 15 cards, even fewer on mobile
  const cardCount = window.innerWidth < 768 ? 10 : 15;
  
  // Use requestAnimationFrame for smoother animations
  let currentCard = 0;
  
  function createNextCard() {
    if (currentCard >= cardCount) return;
    
    const i = currentCard + 1;
    const card = document.createElement('div');
    card.className = 'scattered-card';
    
    // Start from center
    card.style.left = '50vw';
    card.style.top = '50vh';
    card.style.transform = `translate(-50%, -50%) rotate(0deg) scale(0.5)`;
    card.style.opacity = '0';
    
    const img = document.createElement('img');
    img.src = preloadedImages[currentCard].src;
    img.alt = `Memory ${i}`;
    img.className = 'scattered-img';
    img.loading = 'eager';
    img.decoding = 'sync';
    card.appendChild(img);

    document.body.appendChild(card);

    // Store final position for exit animation
    const finalX = Math.random() * 60 + 20; // 20-80vw
    const finalY = Math.random() * 60 + 20; // 20-80vh
    const finalRotate = Math.random() * 24 - 12; // -12 to 12 degrees
    const finalScale = 0.85 + Math.random() * 0.2; // 0.85 to 1.05
    
    card.dataset.finalX = finalX;
    card.dataset.finalY = finalY;
    card.dataset.finalRotate = finalRotate;
    card.dataset.finalScale = finalScale;

    // Animate with requestAnimationFrame for smoothness
    requestAnimationFrame(() => {
      card.style.transition = 'all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
      
      card.style.left = finalX + 'vw';
      card.style.top = finalY + 'vh';
      card.style.transform = `translate(-50%, -50%) rotate(${finalRotate}deg) scale(${finalScale})`;
      card.style.opacity = '0.95';
    });

    currentCard++;
    
    // Create next card with shorter delay
    if (currentCard < cardCount) {
      setTimeout(createNextCard, 80); // Reduced from 150ms
    }
  }
  
  // Start creating cards
  createNextCard();

  // Smooth exit animation after 4 seconds
  setTimeout(() => {
    document.querySelectorAll('.scattered-card').forEach((card, index) => {
      setTimeout(() => {
        // Get current position
        const currentX = parseFloat(card.dataset.finalX);
        const currentY = parseFloat(card.dataset.finalY);
        const currentRotate = parseFloat(card.dataset.finalRotate);
        
        // Calculate exit direction (move away from center)
        const centerX = 50;
        const centerY = 50;
        const directionX = currentX - centerX;
        const directionY = currentY - centerY;
        
        // Calculate exit position (outside viewport)
        let exitX, exitY;
        if (Math.abs(directionX) > Math.abs(directionY)) {
          // Exit horizontally
          exitX = directionX > 0 ? 120 : -20; // Right or left edge
          exitY = currentY + (directionY * 0.5); // Slight vertical movement
        } else {
          // Exit vertically
          exitX = currentX + (directionX * 0.5); // Slight horizontal movement
          exitY = directionY > 0 ? 120 : -20; // Bottom or top edge
        }
        
        // Apply smooth exit animation
        card.style.transition = 'all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        card.style.left = exitX + 'vw';
        card.style.top = exitY + 'vh';
        card.style.transform = `translate(-50%, -50%) rotate(${currentRotate + (Math.random() * 180 - 90)}deg) scale(0.3)`;
        card.style.opacity = '0';
        
        // Remove after animation completes
        setTimeout(() => card.remove(), 1000);
      }, index * 30); // Staggered exit
    });
  }, 4000);
};

// Smooth scroll to "Our Story" page
document.getElementById('storyBtn').onclick = function() {
  window.location.href = "our-story.html";
};
  </script>

  <style>
    .scattered-card {
      position: fixed;
      z-index: 9999;
      width: 90px; /* Smaller size */
      height: 90px;
      pointer-events: none;
      opacity: 0;
      /* Maximum hardware acceleration */
      transform: translate3d(0,0,0);
      backface-visibility: hidden;
      will-change: transform, opacity;
      contain: layout style paint;
    }
    
    .scattered-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px; /* Smaller radius */
      box-shadow: 0 1px 4px rgba(215,38,96,0.2); /* Minimal shadow */
      border: 1.5px solid #fff; /* Thinner border */
      /* Optimized rendering */
      image-rendering: optimizeSpeed;
      transform: translateZ(0); /* Force hardware acceleration */
    }
    
    /* Mobile optimizations */
    @media (max-width: 768px) {
      .scattered-card {
        width: 70px;
        height: 70px;
      }
      
      .scattered-img {
        border-radius: 6px;
        box-shadow: 0 1px 2px rgba(215,38,96,0.15);
        border: 1px solid #fff;
      }
    }
    
    /* Performance mode for low-end devices */
    @media (max-width: 480px) {
      .scattered-card {
        width: 60px;
        height: 60px;
      }
      
      .scattered-img {
        border-radius: 4px;
        box-shadow: none;
        border: none;
      }
    }
    
    /* Disable animations on very low-end devices */
    @media (prefers-reduced-motion: reduce) {
      .scattered-card {
        transition: none !important;
        animation: none !important;
      }
    }

    /* Remove unused heart burst styles to reduce CSS size */
  </style>
</body>
</html>
